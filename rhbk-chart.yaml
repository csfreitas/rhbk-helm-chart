appName: rhbk
ports:
  - name: http
    protocol: TCP
    port: 8080
    targetPort: 8080
  - name: https
    protocol: TCP
    port: 8443
    targetPort: 8443
service:
  name: rhbk-service
  internalTrafficPolicy: Cluster
  type: ClusterIP
  labels:
    app: keycloak
    app.kubernetes.io/managed-by: keycloak-operator
  annotations:
    service.alpha.openshift.io/serving-cert-secret-name: sso-x509-https-secret
deployment:
  image: image-registry.openshift-image-registry.svc:5000/rhbk/rhbk-build
  # cache:
  #   configMapFile:
  #     key: cache-ispn.xml
  #     name: rhbk-caches-config
  unsupported:
    podTemplate:
      spec:
        containers:
        - env:
          - name: NODE_NAME
            valueFrom:
              fieldRef:
                fieldPath: spec.nodeName
          - name: HOST_IP
            valueFrom:
              fieldRef:
                fieldPath: spec.hostIP
          - name: PRINT_ENV
            value: "true"
  additionalOptions:
    - name: health-enabled
      value: 'true'
    - name: metrics-enabled
      value: 'true'
    - name: cache-config-file
      value: 'cache-ispn.xml'
    - name: KC_RUN_IN_CONTAINER
      value: 'true'
  hostname:
    strict: false 
  http:
    httpEnabled: true
    httpPort: 8080
    httpsPort: 8443
    tlsSecret: sso-x509-https-secret
  ingress:
    enabled: true
  resources:
    limits:
      cpu: 2
      memory: 3Gi
    requests:
      cpu: 1
      memory: 2Gi
  replicas: 2
db:
  host: postgres-db
  passwordSecret:
    key: password
    name: keycloak-db-secret
  poolInitialSize: 5
  poolMaxSize: 10
  poolMinSize: 5
  port: 5432
  usernameSecret:
    key: username
    name: keycloak-db-secret
  vendor: postgres
route: 
  targetPort: 8080
  tls:
    termination: edge
    insecureEdgeTerminationPolicy: Redirect
proxy:
  headers: xforwarded